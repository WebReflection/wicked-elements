/*! (c) Andrea Giammarchi - ISC */
var e=function(e){return"matches"in document.documentElement?function(e){return this.matches(e)}:function(e){var n=this;return(n.matchesSelector||n.webkitMatchesSelector||n.khtmlMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||t).call(n,e)};function t(t){var n=this.parentNode;return!!n&&-1<e.call(n.querySelectorAll(t),this)}}([].indexOf),t=Node.prototype.contains||function(e){return!!(e.compareDocumentPosition(this)&e.DOCUMENT_POSITION_CONTAINS)},n="undefined"==typeof Promise?function(e){var t=[],n=!1;return e((function(){n=!0,t.splice(0).forEach(r)})),{then:r,catch:function(){}};function r(e){return n?setTimeout(e):t.push(e),this}}:Promise,r=Object.create,i=Object.keys,o=new WeakMap,c=new Map,a="_"+Math.random(),l=[],s=[],u=[],h=u.forEach,f=function(e){return o.get(e)||u},d=new MutationObserver((function(e){for(var t=0,n=e.length;t<n;t++)f(e[t].target).forEach(N,e[t])}));
/*! (c) Andrea Giammarchi - ISC */new MutationObserver((function(e){if(l.length)for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r.addedNodes,o=r.removedNodes;h.call(i,v),h.call(o,m)}})).observe(document,{childList:!0,subtree:!0});var v=function(e){e.querySelectorAll&&(b(e,!1),E.call("connected",e),h.call(e.querySelectorAll(l),E,"connected"))},m=function(e){e.querySelectorAll&&(E.call("disconnected",e),h.call(e.querySelectorAll(l),E,"disconnected"))},p=function(e){l.forEach(A,e)},b=function(e,n){if(e.querySelectorAll){l.forEach(A,e);var r=e.querySelectorAll(l);h.call(r,p),n&&t.call(e.ownerDocument,e)&&(E.call("connected",e),h.call(r,E,"connected"))}},g=function(e){var t,r={promise:new n((function(e){return t=e})),resolve:t};return c.set(e,r),r},w=function(e,t){if(y(e))throw new Error("duplicated "+e);for(var n=[],o=r(null),a=i(t),h=0,f=a.length;h<f;h++){var d=a[h];if(/^on/.test(d)&&!/Options$/.test(d)){var v=t[d+"Options"]||!1,m=d.toLowerCase(),p=m.slice(2);n.push({type:p,options:v}),o[p]=d,m!==d&&(p=d.slice(2,3).toLowerCase()+d.slice(3),o[p]=d,n.push({type:p,options:v}))}}if(n.length&&(t.handleEvent=function(e){this[o[e.type]](e)}),t.attributeChanged){var b={attributes:!0,attributeOldValue:!0},w=t.observedAttributes;(w||u).length&&(b.attributeFilter=w),t.observerDetails=b}l.push(e),s.push({listeners:n,definition:t,wm:new WeakMap}),O(document.documentElement),(c.get(e)||g(e)).resolve()},y=function(e){var t=l.indexOf(e);return t<0?void 0:s[t].definition},O=function(e){l.length&&b(e,!0)},S=function(e){return(c.get(e)||g(e)).promise};function E(e){f(e).forEach(q,this)}function M(e,t,n){for(var r=0,i=t.length;r<i;r++){var c=t[r],a=c.type,l=c.options;this.addEventListener(a,e,l)}var s=e.observerDetails;s&&d.observe(this,s),n.set(this,!0),o.set(this,f(this).concat(e)),e.init&&e.init()}function A(t,n){if(e.call(this,t)){var i=s[n],o=i.definition,c=i.listeners,l=i.wm;l.has(this)||M.call(this,r(o,(f={writable:!0,value:""},(h=a)in(u={element:{enumerable:!0,value:this}})?Object.defineProperty(u,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[h]=f,u)),c,l)}var u,h,f}function N(e){var t=e.observerDetails;if(t){var n=this.attributeName,r=this.oldValue,i=this.target,o=t.attributeFilter;(!o||-1<o.indexOf(n))&&e.attributeChanged(n,r,i.getAttribute(n))}}function q(e){var t=e[this];t&&e[a]!=this&&(e[a]=this,t.call(e))}export{w as define,y as get,O as upgrade,S as whenDefined};
